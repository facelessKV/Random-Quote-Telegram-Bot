# Инструкция по установке и запуску Telegram-бота с цитатами

Эта инструкция поможет вам установить и запустить Telegram-бота для отправки случайных цитат. Инструкции приведены для операционных систем Windows и Linux.

## Подготовка: Получение токена бота

Прежде чем начать, вам нужно создать бота в Telegram и получить его токен:

1. Откройте Telegram и найдите бота @BotFather
2. Отправьте ему команду `/newbot`
3. Следуйте инструкциям: введите имя бота и его username (должен заканчиваться на "bot")
4. После создания бота, BotFather отправит вам сообщение с токеном бота. Он выглядит примерно так: `1234567890:ABCDefGhIJKlmnOPQRstUVwxyZ`
5. Скопируйте этот токен, он понадобится позже

## Установка и запуск на Windows

### Шаг 1: Установка Python 3.10 (не самая последняя версия для лучшей совместимости)

1. Перейдите на официальный сайт Python: https://www.python.org/downloads/release/python-3106/
2. Прокрутите страницу вниз и найдите раздел "Files"
3. Скачайте "Windows installer (64-bit)" или "Windows installer (32-bit)" в зависимости от вашей системы (в большинстве случаев подойдет 64-bit)
4. Запустите установщик
5. **Важно!** Поставьте галочку "Add Python 3.10 to PATH" в начале установки
6. Нажмите "Install Now" (или "Установить сейчас")
7. Дождитесь завершения установки и нажмите "Close" (или "Закрыть")

### Шаг 2: Скачивание и подготовка бота

1. Создайте на компьютере новую папку, например, "telegram_bot"
2. Скопируйте файл с кодом бота (main.py) в эту папку

### Шаг 3: Установка необходимых библиотек

1. Нажмите клавиши Win + R, введите "cmd" и нажмите Enter для открытия командной строки
2. С помощью команды `cd` перейдите в папку с ботом, например:
   ```
   cd C:\Users\ИмяПользователя\Documents\telegram_bot
   ```
3. Установите библиотеку aiogram командой:
   ```
   pip install aiogram==3.0.0 aiohttp
   ```

### Шаг 4: Настройка токена

1. Откройте файл main.py в любом текстовом редакторе (можно в блокноте, нажав на файл правой кнопкой мыши и выбрав "Открыть с помощью" -> "Блокнот")
2. Найдите строку `API_TOKEN = 'YOUR_BOT_TOKEN'`
3. Замените 'YOUR_BOT_TOKEN' на токен, который вы получили от BotFather (не удаляйте одинарные кавычки)
4. Сохраните файл (Ctrl+S)

### Шаг 5: Запуск бота

1. В командной строке, находясь в папке с ботом, введите команду:
   ```
   python main.py
   ```
2. Вы должны увидеть сообщение "Бот запущен" или другие логи
3. Теперь бот работает! Найдите его в Telegram по имени, которое вы задали при создании, и начните общение

## Установка и запуск на Linux

### Шаг 1: Установка Python 3.10

1. Откройте терминал (Ctrl+Alt+T в большинстве Linux-систем)
2. Обновите список пакетов:
   ```
   sudo apt update
   ```
3. Установите необходимые инструменты для добавления репозитория:
   ```
   sudo apt install software-properties-common
   ```
4. Добавьте репозиторий с Python:
   ```
   sudo add-apt-repository ppa:deadsnakes/ppa
   ```
5. Обновите список пакетов снова:
   ```
   sudo apt update
   ```
6. Установите Python 3.10:
   ```
   sudo apt install python3.10 python3.10-venv python3-pip
   ```

### Шаг 2: Создание и настройка окружения для бота

1. Создайте папку для бота:
   ```
   mkdir ~/telegram_bot
   cd ~/telegram_bot
   ```
2. Создайте виртуальное окружение:
   ```
   python3.10 -m venv venv
   ```
3. Активируйте виртуальное окружение:
   ```
   source venv/bin/activate
   ```
4. Создайте файл с кодом:
   ```
   nano main.py
   ```
5. Скопируйте код бота в открывшийся редактор
6. Нажмите Ctrl+O для сохранения, затем Enter и Ctrl+X для выхода из редактора

### Шаг 3: Установка необходимых библиотек

1. В терминале с активированным виртуальным окружением выполните:
   ```
   pip install aiogram==3.0.0 aiohttp
   ```

### Шаг 4: Настройка токена

1. Откройте файл с кодом бота:
   ```
   nano main.py
   ```
2. Найдите строку `API_TOKEN = 'YOUR_BOT_TOKEN'`
3. Замените 'YOUR_BOT_TOKEN' на токен, который вы получили от BotFather (не удаляйте одинарные кавычки)
4. Сохраните файл (Ctrl+O, затем Enter) и выйдите из редактора (Ctrl+X)

### Шаг 5: Запуск бота

1. Убедитесь, что вы находитесь в папке с ботом и виртуальное окружение активировано (в начале строки терминала должно быть написано "(venv)")
2. Запустите бота:
   ```
   python main.py
   ```
3. Вы должны увидеть сообщение "Бот запущен" или другие логи
4. Теперь бот работает! Найдите его в Telegram по имени, которое вы задали при создании, и начните общение

## Как пользоваться ботом

После запуска бота вы можете использовать следующие команды в Telegram:

- `/start` - получить приветственное сообщение и список команд
- `/quote` - получить случайную цитату
- `/author` - выбрать автора цитаты (бот попросит ввести имя автора)
- `/refresh` - обновить базу данных цитат (получить новые цитаты из API)
- `/cancel` или просто "отмена" - отменить текущую операцию

## Устранение проблем

### Бот не запускается на Windows
- Убедитесь, что вы установили Python с галочкой "Add Python to PATH"
- Попробуйте перезапустить компьютер и повторить все шаги
- Убедитесь, что вы правильно ввели команды в командной строке

### Бот не запускается на Linux
- Убедитесь, что виртуальное окружение активировано
- Проверьте, правильно ли установлены все библиотеки
- Проверьте наличие прав на запуск файла: `chmod +x main.py`

### Бот запускается, но не отвечает в Telegram
- Проверьте, правильно ли вы ввели токен от BotFather
- Убедитесь, что бот запущен и работает (в командной строке или терминале должны быть видны логи)
- Попробуйте перезапустить бота

### Ошибка "No module named 'aiogram'"
- Убедитесь, что вы установили все необходимые библиотеки командой:
  ```
  pip install aiogram==3.0.0 aiohttp
  ```

## Дополнительная информация

- Бот сохраняет все цитаты в файл базы данных quotes.db
- При первом запуске бот создает базу данных с несколькими цитатами
- Вы можете добавить новые цитаты с помощью команды `/refresh`